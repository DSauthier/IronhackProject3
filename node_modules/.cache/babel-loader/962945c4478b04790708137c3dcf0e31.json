{"ast":null,"code":"import _defineProperty from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/src/components/Signup.js\";\nimport React, { Component } from 'react';\nimport \"../App.css\";\nimport Axios from 'axios';\nimport UserService from '../services/UserService';\nimport { Link } from 'react-router-dom';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signup, _Component);\n\n  function Signup() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Signup)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      usernameInput: '',\n      passwordInput: ''\n    };\n    _this.service = new UserService();\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleFormSubmit = function (e) {\n      e.preventDefault(); // you could just do axios.post('http://localhost:5000/api/signup, {username: this.state.userNameInput, password: this.state.passWordInput}, {withCredentials: true})\n\n      _this.service.signup(_this.state.usernameInput, _this.state.passwordInput).then(function (userFromDB) {\n        console.log('------------------------', userFromDB);\n\n        _this.props.logTheUserIntoAppComponent(userFromDB); // here we wait for the API to give us the user object back after logging in\n        // then we pass that user object back to app component\n\n\n        _this.setState({\n          usernameInput: '',\n          passwordInput: ''\n        });\n\n        _this.props.history.push('/itemList');\n      }).catch(function (err) {\n        console.log('sorry something went wrong', err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Username:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"usernameInput\",\n        value: this.state.usernameInput,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Password:\"), React.createElement(\"input\", {\n        name: \"passwordInput\",\n        value: this.state.passwordInput,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Already have account?\"));\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nexport default Signup;","map":{"version":3,"sources":["/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/src/components/Signup.js"],"names":["React","Component","Axios","UserService","Link","Signup","state","usernameInput","passwordInput","service","handleChange","e","setState","target","name","value","handleFormSubmit","preventDefault","signup","then","userFromDB","console","log","props","logTheUserIntoAppComponent","history","push","catch","err"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;;IAGMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAAEC,MAAAA,aAAa,EAAE,EAAjB;AAAqBC,MAAAA,aAAa,EAAE;AAApC,K;UACRC,O,GAAU,IAAIN,WAAJ,E;;UAGVO,Y,GAAe,UAACC,CAAD,EAAO;AACpB,YAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,EAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C;AACD,K;;UAGDC,gB,GAAmB,UAACL,CAAD,EAAO;AACxBA,MAAAA,CAAC,CAACM,cAAF,GADwB,CAExB;;AACA,YAAKR,OAAL,CAAaS,MAAb,CAAoB,MAAKZ,KAAL,CAAWC,aAA/B,EAA8C,MAAKD,KAAL,CAAWE,aAAzD,EACGW,IADH,CACQ,UAACC,UAAD,EAAgB;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,UAAxC;;AACA,cAAKG,KAAL,CAAWC,0BAAX,CAAsCJ,UAAtC,EAFoB,CAGpB;AACA;;;AACA,cAAKR,QAAL,CAAc;AAAEL,UAAAA,aAAa,EAAE,EAAjB;AAAqBC,UAAAA,aAAa,EAAE;AAApC,SAAd;;AAEA,cAAKe,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB;AAGD,OAXH,EAYGC,KAZH,CAYS,UAACC,GAAD,EAAS;AACdP,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CM,GAA1C;AAED,OAfH;AAiBD,K;;;;;;;6BAEQ;AAAA;;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,QAAQ,EAAE,KAAKZ,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,eAAxB;AAAwC,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,aAA1D;AAAyE,QAAA,QAAQ,EAAE,kBAAAI,CAAC;AAAA,iBAAI,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAJ;AAAA,SAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJF,EAKE;AAAO,QAAA,IAAI,EAAC,eAAZ;AAA4B,QAAA,KAAK,EAAE,KAAKL,KAAL,CAAWE,aAA9C;AAA6D,QAAA,QAAQ,EAAE,kBAAAG,CAAC;AAAA,iBAAI,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAJ;AAAA,SAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAOE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAXF,CADF;AAkBD;;;;EAnDkBV,S;;AAsDrB,eAAeI,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport \"../App.css\";\nimport Axios from 'axios';\nimport UserService from '../services/UserService';\nimport { Link } from 'react-router-dom'\n\n\nclass Signup extends Component {\n  state = { usernameInput: '', passwordInput: '' };\n  service = new UserService();\n\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    // you could just do axios.post('http://localhost:5000/api/signup, {username: this.state.userNameInput, password: this.state.passWordInput}, {withCredentials: true})\n    this.service.signup(this.state.usernameInput, this.state.passwordInput)\n      .then((userFromDB) => {\n        console.log('------------------------', userFromDB)\n        this.props.logTheUserIntoAppComponent(userFromDB)\n        // here we wait for the API to give us the user object back after logging in\n        // then we pass that user object back to app component\n        this.setState({ usernameInput: '', passwordInput: '' })\n\n        this.props.history.push('/itemList');\n\n\n      })\n      .catch((err) => {\n        console.log('sorry something went wrong', err)\n\n      })\n\n  }\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleFormSubmit}>\n          <label>Username:</label>\n          <input type=\"text\" name=\"usernameInput\" value={this.state.usernameInput} onChange={e => this.handleChange(e)} />\n\n          <label>Password:</label>\n          <input name=\"passwordInput\" value={this.state.passwordInput} onChange={e => this.handleChange(e)} />\n\n          <input type=\"submit\" value=\"Signup\" />\n        </form>\n\n        <p>Already have account?\n                {/* <Link to={\"/\"}> Login</Link> */}\n        </p>\n\n      </div>\n    )\n  }\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}