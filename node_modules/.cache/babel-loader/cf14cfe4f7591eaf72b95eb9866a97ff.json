{"ast":null,"code":"import _classCallCheck from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/src/components/itemIndex.js\";\nimport React, { Component } from 'react';\nimport \"../App.css\";\nimport Axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport AddNewItem from './AddNewItem';\n\nvar ItemIndex =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ItemIndex, _Component);\n\n  function ItemIndex() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ItemIndex);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ItemIndex)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      allTheItems: []\n    };\n\n    _this.fetchItems = function () {\n      Axios.get('http://localhost:5000/api/tasks').then(function (responseFromApi) {\n        _this.setState({\n          allTheItems: responseFromApi.data.reverse()\n        });\n      }).catch(function (err) {});\n    };\n\n    _this.showAllItems = function () {\n      if (_this.state.allTheItems && _this.props.currentUser) {\n        var myItems = _this.state.allTheItems.filter(function (eachItem) {\n          return eachItem.owner === _this.props.currentUser._id;\n        });\n\n        return myItems.map(function (eachItem) {\n          return React.createElement(\"div\", {\n            key: eachItem._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }, React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, eachItem.title), React.createElement(\"h6\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, eachItem.description), React.createElement(Link, {\n            to: '/Item/' + eachItem._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \"See Details\"));\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ItemIndex, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.fetchItems();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Item Index\"), React.createElement(\"div\", {\n        className: \"list-of-Items-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.showAllItems()), React.createElement(\"div\", {\n        className: \"add-new-component-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(AddNewItem, {\n        letTheIndexComponentKnowThatWeAddedAItem: this.fetchItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ItemIndex;\n}(Component);\n\nexport default ItemIndex;","map":{"version":3,"sources":["/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/src/components/itemIndex.js"],"names":["React","Component","Axios","Link","AddNewItem","ItemIndex","state","allTheItems","fetchItems","get","then","responseFromApi","setState","data","reverse","catch","err","showAllItems","props","currentUser","myItems","filter","eachItem","owner","_id","map","title","description","console","log"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,UAAP,MAAuB,cAAvB;;IAGMC,S;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,WAAW,EAAE;AADP,K;;UAORC,U,GAAa,YAAM;AACjBN,MAAAA,KAAK,CAACO,GAAN,CAAU,iCAAV,EACGC,IADH,CACQ,UAACC,eAAD,EAAqB;AACzB,cAAKC,QAAL,CAAc;AAAEL,UAAAA,WAAW,EAAEI,eAAe,CAACE,IAAhB,CAAqBC,OAArB;AAAf,SAAd;AACD,OAHH,EAIGC,KAJH,CAIS,UAACC,GAAD,EAAS,CACf,CALH;AAMD,K;;UACDC,Y,GAAe,YAAM;AACnB,UAAI,MAAKX,KAAL,CAAWC,WAAX,IAA0B,MAAKW,KAAL,CAAWC,WAAzC,EAAsD;AAEpD,YAAMC,OAAO,GAAG,MAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAAvB,CAA8B,UAACC,QAAD,EAAc;AAC1D,iBAAOA,QAAQ,CAACC,KAAT,KAAmB,MAAKL,KAAL,CAAWC,WAAX,CAAuBK,GAAjD;AACD,SAFe,CAAhB;;AAGA,eAAOJ,OAAO,CAACK,GAAR,CAAY,UAACH,QAAD,EAAc;AAC/B,iBACE;AAAK,YAAA,GAAG,EAAEA,QAAQ,CAACE,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAKF,QAAQ,CAACI,KAAd,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAKJ,QAAQ,CAACK,WAAd,CAFF,EAGE,oBAAC,IAAD;AAAM,YAAA,EAAE,EAAE,WAAWL,QAAQ,CAACE,GAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHF,CADF;AAOD,SARM,CAAP;AASD;AACF,K;;;;;;;yCA5BoB;AACnB,WAAKhB,UAAL;AACD;;;6BA2BQ;AACPoB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAjB;AAEA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAGE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKD,YAAL,EADH,CAHF,EAME;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,wCAAwC,EAAE,KAAKT,UAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANF,CADF;AAYD;;;;EAhDqBP,S;;AAkDxB,eAAeI,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport \"../App.css\";\nimport Axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nimport AddNewItem from './AddNewItem';\n\n\nclass ItemIndex extends Component {\n  state = {\n    allTheItems: []\n  }\n  componentWillMount() {\n    this.fetchItems()\n  }\n\n  fetchItems = () => {\n    Axios.get('http://localhost:5000/api/tasks')\n      .then((responseFromApi) => {\n        this.setState({ allTheItems: responseFromApi.data.reverse() })\n      })\n      .catch((err) => {\n      })\n  }\n  showAllItems = () => {\n    if (this.state.allTheItems && this.props.currentUser) {\n\n      const myItems = this.state.allTheItems.filter((eachItem) => {\n        return eachItem.owner === this.props.currentUser._id\n      })\n      return myItems.map((eachItem) => {\n        return (\n          <div key={eachItem._id}>\n            <h3>{eachItem.title}</h3>\n            <h6>{eachItem.description}</h6>\n            <Link to={'/Item/' + eachItem._id} >See Details</Link>\n          </div>\n        )\n      })\n    }\n  }\n  render() {\n    console.log(this.props)\n\n    return (\n      <div>\n        <h1>Item Index</h1>\n\n        <div className=\"list-of-Items-container\">\n          {this.showAllItems()}\n        </div>\n        <div className=\"add-new-component-container\">\n          <AddNewItem letTheIndexComponentKnowThatWeAddedAItem={this.fetchItems} />\n        </div>\n      </div>\n    )\n  }\n}\nexport default ItemIndex;"]},"metadata":{},"sourceType":"module"}