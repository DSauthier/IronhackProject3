{"ast":null,"code":"import _defineProperty from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/src/components/itemDetails.js\";\nimport React, { Component } from 'react';\nimport \"../App.css\";\nimport Axios from 'axios';\n\nvar itemDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(itemDetail, _Component);\n\n  function itemDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, itemDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(itemDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      nameInput: '',\n      descInput: '',\n      editing: false\n    };\n\n    _this.updateInput = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.editItem = function (e) {\n      e.preventDefault();\n      Axios.post('http://localhost:5000/api/items/edit/' + _this.state.theActualItem._id, {\n        thename: _this.state.nameInput,\n        theDescription: _this.state.descInput\n      }).then(function () {\n        _this.setState({\n          editing: false\n        }); // after we submit the form and the Axios request is complete, we set this.state.editing\n        // back to false so that the form dissappears and looks all fancy\n\n      }).catch(function () {});\n    };\n\n    _this.toggleForm = function () {\n      _this.setState({\n        editing: true\n      });\n    };\n\n    _this.showItemDetails = function () {\n      if (_this.state.theActualItem) {\n        if (_this.state.editing) {\n          // if this.state.editing is set to true, we will show a form\n          return React.createElement(\"form\", {\n            onSubmit: _this.editItem,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            className: \"input\",\n            value: _this.state.nameInput,\n            onChange: _this.updateInput,\n            id: \"nameInput\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }), React.createElement(\"input\", {\n            className: \"input\",\n            value: _this.state.descInput,\n            onChange: _this.updateInput,\n            id: \"descInput\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, \"submit changes\"));\n        } else {\n          // by default this.state.editing is set to false so when we first load the page we will\n          // see this below, which is just the info but not form\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, _this.state.nameInput), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, _this.state.descInput), React.createElement(\"img\", {\n            onClick: _this.toggleForm,\n            className: \"pen-pic\",\n            src: \"https://us.123rf.com/450wm/jemastock/jemastock1707/jemastock170717063/82921914-stock-vector-school-pen-write-supply-accessory-icon-vector-illustration.jpg?ver=6\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }));\n        }\n      }\n    };\n\n    _this.deleteItem = function () {\n      Axios.post('http://localhost:5000/api/items/delete/' + _this.state.theActualItem._id, {}).then(function () {\n        _this.props.history.push('/itemList'); // this is how your redirect in react\n\n      }).catch(function () {});\n    };\n\n    return _this;\n  }\n\n  _createClass(itemDetail, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var theID = this.props.match.params.id;\n      Axios.get('http://localhost:5000/api/items/details/' + theID).then(function (theThingIGetBackFromApi) {\n        console.log('------___---__-_-_--_-_-__-_-_-_-_-___-_-----', theThingIGetBackFromApi);\n\n        _this2.setState({\n          theActualItem: theThingIGetBackFromApi.data,\n          nameInput: theThingIGetBackFromApi.data.name,\n          descInput: theThingIGetBackFromApi.data.description\n        });\n      }).catch(function () {});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \" Item Details Page\"), this.showItemDetails(), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.deleteItem,\n        className: \"delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Delete This Item\")));\n    }\n  }]);\n\n  return itemDetail;\n}(Component);\n\nexport default itemDetail;","map":{"version":3,"sources":["/Users/danielSauthier/Desktop/Ironhack/week9/IronhackProject3/project3/src/components/itemDetails.js"],"names":["React","Component","Axios","itemDetail","state","nameInput","descInput","editing","updateInput","e","setState","target","id","value","editItem","preventDefault","post","theActualItem","_id","thename","theDescription","then","catch","toggleForm","showItemDetails","deleteItem","props","history","push","theID","match","params","get","theThingIGetBackFromApi","console","log","data","name","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport \"../App.css\";\nimport Axios from 'axios';\n\n\nclass itemDetail extends Component {\n  state = {\n    nameInput: '',\n    descInput: '',\n    editing: false\n\n  }\n\n\n\n  componentWillMount() {\n    const theID = this.props.match.params.id;\n    Axios.get('http://localhost:5000/api/items/details/' + theID)\n      .then((theThingIGetBackFromApi) => {\n\n        console.log('------___---__-_-_--_-_-__-_-_-_-_-___-_-----', theThingIGetBackFromApi)\n\n        this.setState({\n          theActualItem: theThingIGetBackFromApi.data,\n          nameInput: theThingIGetBackFromApi.data.name,\n          descInput: theThingIGetBackFromApi.data.description\n        })\n\n      }).catch(() => {\n\n      })\n  }\n\n  updateInput = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  }\n\n  editItem = (e) => {\n    e.preventDefault();\n    Axios.post('http://localhost:5000/api/items/edit/' + this.state.theActualItem._id,\n      { thename: this.state.nameInput, theDescription: this.state.descInput })\n      .then(() => {\n        this.setState({ editing: false });\n        // after we submit the form and the Axios request is complete, we set this.state.editing\n        // back to false so that the form dissappears and looks all fancy\n      })\n      .catch(() => {\n\n      })\n  }\n\n\n  toggleForm = () => {\n    this.setState({ editing: true })\n\n  }\n\n\n  showItemDetails = () => {\n    if (this.state.theActualItem) {\n\n\n\n      if (this.state.editing) {\n        // if this.state.editing is set to true, we will show a form\n\n        return (\n          <form onSubmit={this.editItem}>\n            <input className=\"input\" value={this.state.nameInput} onChange={this.updateInput} id=\"nameInput\" />\n            <input className=\"input\" value={this.state.descInput} onChange={this.updateInput} id=\"descInput\" />\n            <button>submit changes</button>\n          </form>\n        )\n\n      } else {\n        // by default this.state.editing is set to false so when we first load the page we will\n        // see this below, which is just the info but not form\n\n        return (\n          <div>\n            <span>\n              {this.state.nameInput}\n            </span>\n\n            <span>\n              {this.state.descInput}\n            </span>\n            {/* we put this little image of a pen here, and add an on click function */}\n            {/* the on click function changes this.state.editing to true */}\n            {/*  therefore, when we change this.state.editing to true, we show a form instead of just the info */}\n            <img onClick={this.toggleForm} className=\"pen-pic\" src=\"https://us.123rf.com/450wm/jemastock/jemastock1707/jemastock170717063/82921914-stock-vector-school-pen-write-supply-accessory-icon-vector-illustration.jpg?ver=6\" />\n          </div>\n        )\n      }\n    }\n  }\n\n\n  deleteItem = () => {\n    Axios.post('http://localhost:5000/api/items/delete/' + this.state.theActualItem._id, {})\n      .then(() => {\n\n        this.props.history.push('/itemList');\n        // this is how your redirect in react\n      })\n      .catch(() => {\n\n      })\n  }\n\n\n\n\n\n\n\n  render() {\n    console.log(this.props)\n    console.log(this.state)\n    return (\n      <div>\n        <h1> Item Details Page</h1>\n        {this.showItemDetails()}\n\n        <br />\n        <br />\n        <br />\n        <br />\n        <div>\n          <button onClick={this.deleteItem} className=\"delete\">Delete This Item</button>\n        </div>\n\n      </div>\n    )\n  }\n\n\n\n\n}\n\n\n\nexport default itemDetail;"]},"metadata":{},"sourceType":"module"}